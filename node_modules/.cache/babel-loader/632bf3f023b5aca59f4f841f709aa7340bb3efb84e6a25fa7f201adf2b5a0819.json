{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\damva\\\\EducStation\\\\src\\\\components\\\\admin\\\\FloatingToolbar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// FloatingToolbar - Barra de herramientas flotante para edición de texto\n// Aparece cuando se selecciona texto en el editor\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FloatingToolbar = ({\n  onFormatText,\n  activeFormats,\n  editorRef\n}) => {\n  _s();\n  const [visible, setVisible] = useState(false);\n  const [position, setPosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const toolbarRef = useRef(null);\n\n  // Estilos para la barra de herramientas\n  const styles = {\n    floatingBar: {\n      position: 'absolute',\n      zIndex: 1000,\n      display: visible ? 'flex' : 'none',\n      alignItems: 'center',\n      backgroundColor: 'white',\n      borderRadius: '6px',\n      padding: '4px',\n      boxShadow: '0 2px 10px rgba(0, 0, 0, 0.12)',\n      transition: 'opacity 0.2s ease, transform 0.2s ease',\n      opacity: visible ? 1 : 0,\n      transform: visible ? 'translateY(0)' : 'translateY(10px)',\n      gap: '2px'\n    },\n    button: isActive => ({\n      background: 'none',\n      border: 'none',\n      borderRadius: '4px',\n      padding: '6px',\n      margin: '0 2px',\n      fontSize: '14px',\n      cursor: 'pointer',\n      color: isActive ? '#0b4444' : '#4c7977',\n      backgroundColor: isActive ? '#0b444415' : 'transparent',\n      transition: 'all 0.2s ease',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '28px',\n      height: '28px'\n    }),\n    separator: {\n      width: '1px',\n      height: '20px',\n      margin: '0 4px',\n      backgroundColor: '#e1e7e6'\n    },\n    fontSizeControls: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '2px'\n    },\n    fontSizeDisplay: {\n      fontSize: '12px',\n      marginLeft: '2px',\n      marginRight: '2px',\n      color: '#4c7977',\n      width: '24px',\n      textAlign: 'center'\n    }\n  };\n\n  // Función para verificar la selección de texto\n  const checkSelection = () => {\n    try {\n      const selection = window.getSelection();\n      if (!selection || selection.isCollapsed || !editorRef.current) {\n        setVisible(false);\n        return;\n      }\n\n      // Verificar si la selección está dentro del editor\n      const range = selection.getRangeAt(0);\n      let container = range.commonAncestorContainer;\n\n      // Si el contenedor es un nodo de texto, obtener su elemento padre\n      if (container.nodeType === 3) {\n        container = container.parentNode;\n      }\n\n      // Verificar si el contenedor o algún antecesor es el editor\n      let isInEditor = false;\n      let current = container;\n      while (current && !isInEditor) {\n        if (current === editorRef.current) {\n          isInEditor = true;\n        }\n        current = current.parentNode;\n      }\n      if (!isInEditor) {\n        setVisible(false);\n        return;\n      }\n\n      // La selección está dentro del editor, mostrar la barra\n      const rect = range.getBoundingClientRect();\n      if (rect.width === 0) {\n        setVisible(false);\n        return;\n      }\n\n      // Calcular la posición de la barra\n      const editorRect = editorRef.current.getBoundingClientRect();\n\n      // Posicionar sobre la selección\n      const newPosition = {\n        top: rect.top - editorRect.top - 40,\n        // 40px encima de la selección\n        left: rect.left - editorRect.left + rect.width / 2 // Centrado horizontalmente\n      };\n\n      // Ajustar para que no se salga del editor\n      if (toolbarRef.current) {\n        const toolbarWidth = toolbarRef.current.offsetWidth;\n        if (newPosition.left + toolbarWidth > editorRect.width) {\n          newPosition.left = editorRect.width - toolbarWidth - 10;\n        }\n        if (newPosition.left < 0) {\n          newPosition.left = 10;\n        }\n        if (newPosition.top < 0) {\n          // Si no hay espacio arriba, colocar debajo\n          newPosition.top = rect.bottom - editorRect.top + 10;\n        }\n      }\n      setPosition(newPosition);\n      setVisible(true);\n    } catch (error) {\n      console.error('Error al verificar selección:', error);\n      setVisible(false);\n    }\n  };\n\n  // Detectar cambios en la selección\n  useEffect(() => {\n    // No agregar event listeners si no hay editorRef\n    if (!editorRef || !editorRef.current) return;\n    document.addEventListener('selectionchange', checkSelection);\n    editorRef.current.addEventListener('mouseup', checkSelection);\n    editorRef.current.addEventListener('keyup', checkSelection);\n\n    // Limpiar event listeners\n    return () => {\n      document.removeEventListener('selectionchange', checkSelection);\n      if (editorRef.current) {\n        editorRef.current.removeEventListener('mouseup', checkSelection);\n        editorRef.current.removeEventListener('keyup', checkSelection);\n      }\n    };\n  }, [editorRef === null || editorRef === void 0 ? void 0 : editorRef.current]);\n\n  // Función para obtener el tamaño de fuente actual\n  const getCurrentFontSize = () => {\n    const selection = window.getSelection();\n    if (!selection || selection.isCollapsed) return null;\n    try {\n      const range = selection.getRangeAt(0);\n      const element = range.commonAncestorContainer;\n\n      // Intenta obtener el elemento si es un nodo de texto\n      const node = element.nodeType === 3 ? element.parentNode : element;\n\n      // Obtener el estilo computado\n      const style = window.getComputedStyle(node);\n      const fontSize = parseInt(style.fontSize);\n      return fontSize || 16; // Devolver 16 como valor por defecto si no se puede determinar\n    } catch (error) {\n      return 16; // Valor por defecto\n    }\n  };\n\n  // Cambiar el tamaño de fuente\n  const changeFontSize = increment => {\n    const currentSize = getCurrentFontSize();\n    const newSize = currentSize + increment;\n\n    // Limitar el tamaño entre 8 y 72px\n    if (newSize >= 8 && newSize <= 72) {\n      onFormatText('fontSize', `${newSize}px`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: toolbarRef,\n    style: {\n      ...styles.floatingBar,\n      top: `${position.top}px`,\n      left: `${position.left}px`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      title: \"Negrita\",\n      style: styles.button(activeFormats.bold),\n      onClick: () => onFormatText('bold'),\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      title: \"Cursiva\",\n      style: styles.button(activeFormats.italic),\n      onClick: () => onFormatText('italic'),\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: \"I\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      title: \"Subrayado\",\n      style: styles.button(activeFormats.underline),\n      onClick: () => onFormatText('underline'),\n      children: /*#__PURE__*/_jsxDEV(\"u\", {\n        children: \"U\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.separator\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.fontSizeControls,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        title: \"Reducir tama\\xF1o de fuente\",\n        style: styles.button(false),\n        onClick: () => changeFontSize(-1),\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '12px'\n          },\n          children: \"A-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.fontSizeDisplay,\n        children: getCurrentFontSize()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        title: \"Aumentar tama\\xF1o de fuente\",\n        style: styles.button(false),\n        onClick: () => changeFontSize(1),\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '14px'\n          },\n          children: \"A+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.separator\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      title: \"Color de texto\",\n      style: styles.button(false),\n      onClick: () => onFormatText('textColor'),\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#0b4444'\n        },\n        children: \"A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      title: \"Insertar enlace\",\n      style: styles.button(activeFormats.link),\n      onClick: () => onFormatText('link'),\n      children: \"\\uD83D\\uDD17\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n};\n_s(FloatingToolbar, \"azpEkP1zdjjX/sxOluITlm3NJVE=\");\n_c = FloatingToolbar;\nexport default FloatingToolbar;\nvar _c;\n$RefreshReg$(_c, \"FloatingToolbar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","FloatingToolbar","onFormatText","activeFormats","editorRef","_s","visible","setVisible","position","setPosition","top","left","toolbarRef","styles","floatingBar","zIndex","display","alignItems","backgroundColor","borderRadius","padding","boxShadow","transition","opacity","transform","gap","button","isActive","background","border","margin","fontSize","cursor","color","justifyContent","width","height","separator","fontSizeControls","fontSizeDisplay","marginLeft","marginRight","textAlign","checkSelection","selection","window","getSelection","isCollapsed","current","range","getRangeAt","container","commonAncestorContainer","nodeType","parentNode","isInEditor","rect","getBoundingClientRect","editorRect","newPosition","toolbarWidth","offsetWidth","bottom","error","console","document","addEventListener","removeEventListener","getCurrentFontSize","element","node","style","getComputedStyle","parseInt","changeFontSize","increment","currentSize","newSize","ref","children","type","title","bold","onClick","fileName","_jsxFileName","lineNumber","columnNumber","italic","underline","link","_c","$RefreshReg$"],"sources":["C:/Users/damva/EducStation/src/components/admin/FloatingToolbar.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\n// FloatingToolbar - Barra de herramientas flotante para edición de texto\r\n// Aparece cuando se selecciona texto en el editor\r\nconst FloatingToolbar = ({ \r\n  onFormatText, \r\n  activeFormats, \r\n  editorRef \r\n}) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [position, setPosition] = useState({ top: 0, left: 0 });\r\n  const toolbarRef = useRef(null);\r\n  \r\n  // Estilos para la barra de herramientas\r\n  const styles = {\r\n    floatingBar: {\r\n      position: 'absolute',\r\n      zIndex: 1000,\r\n      display: visible ? 'flex' : 'none',\r\n      alignItems: 'center',\r\n      backgroundColor: 'white',\r\n      borderRadius: '6px',\r\n      padding: '4px',\r\n      boxShadow: '0 2px 10px rgba(0, 0, 0, 0.12)',\r\n      transition: 'opacity 0.2s ease, transform 0.2s ease',\r\n      opacity: visible ? 1 : 0,\r\n      transform: visible ? 'translateY(0)' : 'translateY(10px)',\r\n      gap: '2px'\r\n    },\r\n    button: (isActive) => ({\r\n      background: 'none',\r\n      border: 'none',\r\n      borderRadius: '4px',\r\n      padding: '6px',\r\n      margin: '0 2px',\r\n      fontSize: '14px',\r\n      cursor: 'pointer',\r\n      color: isActive ? '#0b4444' : '#4c7977',\r\n      backgroundColor: isActive ? '#0b444415' : 'transparent',\r\n      transition: 'all 0.2s ease',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      width: '28px',\r\n      height: '28px'\r\n    }),\r\n    separator: {\r\n      width: '1px',\r\n      height: '20px',\r\n      margin: '0 4px',\r\n      backgroundColor: '#e1e7e6'\r\n    },\r\n    fontSizeControls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '2px'\r\n    },\r\n    fontSizeDisplay: {\r\n      fontSize: '12px',\r\n      marginLeft: '2px',\r\n      marginRight: '2px',\r\n      color: '#4c7977',\r\n      width: '24px',\r\n      textAlign: 'center'\r\n    }\r\n  };\r\n\r\n  // Función para verificar la selección de texto\r\n  const checkSelection = () => {\r\n    try {\r\n      const selection = window.getSelection();\r\n      \r\n      if (!selection || selection.isCollapsed || !editorRef.current) {\r\n        setVisible(false);\r\n        return;\r\n      }\r\n      \r\n      // Verificar si la selección está dentro del editor\r\n      const range = selection.getRangeAt(0);\r\n      let container = range.commonAncestorContainer;\r\n      \r\n      // Si el contenedor es un nodo de texto, obtener su elemento padre\r\n      if (container.nodeType === 3) {\r\n        container = container.parentNode;\r\n      }\r\n      \r\n      // Verificar si el contenedor o algún antecesor es el editor\r\n      let isInEditor = false;\r\n      let current = container;\r\n      \r\n      while (current && !isInEditor) {\r\n        if (current === editorRef.current) {\r\n          isInEditor = true;\r\n        }\r\n        current = current.parentNode;\r\n      }\r\n      \r\n      if (!isInEditor) {\r\n        setVisible(false);\r\n        return;\r\n      }\r\n      \r\n      // La selección está dentro del editor, mostrar la barra\r\n      const rect = range.getBoundingClientRect();\r\n      \r\n      if (rect.width === 0) {\r\n        setVisible(false);\r\n        return;\r\n      }\r\n      \r\n      // Calcular la posición de la barra\r\n      const editorRect = editorRef.current.getBoundingClientRect();\r\n      \r\n      // Posicionar sobre la selección\r\n      const newPosition = {\r\n        top: rect.top - editorRect.top - 40, // 40px encima de la selección\r\n        left: rect.left - editorRect.left + (rect.width / 2) // Centrado horizontalmente\r\n      };\r\n      \r\n      // Ajustar para que no se salga del editor\r\n      if (toolbarRef.current) {\r\n        const toolbarWidth = toolbarRef.current.offsetWidth;\r\n        \r\n        if (newPosition.left + toolbarWidth > editorRect.width) {\r\n          newPosition.left = editorRect.width - toolbarWidth - 10;\r\n        }\r\n        \r\n        if (newPosition.left < 0) {\r\n          newPosition.left = 10;\r\n        }\r\n        \r\n        if (newPosition.top < 0) {\r\n          // Si no hay espacio arriba, colocar debajo\r\n          newPosition.top = rect.bottom - editorRect.top + 10;\r\n        }\r\n      }\r\n      \r\n      setPosition(newPosition);\r\n      setVisible(true);\r\n    } catch (error) {\r\n      console.error('Error al verificar selección:', error);\r\n      setVisible(false);\r\n    }\r\n  };\r\n\r\n  // Detectar cambios en la selección\r\n  useEffect(() => {\r\n    // No agregar event listeners si no hay editorRef\r\n    if (!editorRef || !editorRef.current) return;\r\n    \r\n    document.addEventListener('selectionchange', checkSelection);\r\n    editorRef.current.addEventListener('mouseup', checkSelection);\r\n    editorRef.current.addEventListener('keyup', checkSelection);\r\n    \r\n    // Limpiar event listeners\r\n    return () => {\r\n      document.removeEventListener('selectionchange', checkSelection);\r\n      if (editorRef.current) {\r\n        editorRef.current.removeEventListener('mouseup', checkSelection);\r\n        editorRef.current.removeEventListener('keyup', checkSelection);\r\n      }\r\n    };\r\n  }, [editorRef?.current]);\r\n\r\n  // Función para obtener el tamaño de fuente actual\r\n  const getCurrentFontSize = () => {\r\n    const selection = window.getSelection();\r\n    if (!selection || selection.isCollapsed) return null;\r\n    \r\n    try {\r\n      const range = selection.getRangeAt(0);\r\n      const element = range.commonAncestorContainer;\r\n      \r\n      // Intenta obtener el elemento si es un nodo de texto\r\n      const node = element.nodeType === 3 ? element.parentNode : element;\r\n      \r\n      // Obtener el estilo computado\r\n      const style = window.getComputedStyle(node);\r\n      const fontSize = parseInt(style.fontSize);\r\n      \r\n      return fontSize || 16; // Devolver 16 como valor por defecto si no se puede determinar\r\n    } catch (error) {\r\n      return 16; // Valor por defecto\r\n    }\r\n  };\r\n\r\n  // Cambiar el tamaño de fuente\r\n  const changeFontSize = (increment) => {\r\n    const currentSize = getCurrentFontSize();\r\n    const newSize = currentSize + increment;\r\n    \r\n    // Limitar el tamaño entre 8 y 72px\r\n    if (newSize >= 8 && newSize <= 72) {\r\n      onFormatText('fontSize', `${newSize}px`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={toolbarRef}\r\n      style={{\r\n        ...styles.floatingBar,\r\n        top: `${position.top}px`,\r\n        left: `${position.left}px`\r\n      }}\r\n    >\r\n      {/* Formato de texto básico */}\r\n      <button \r\n        type=\"button\"\r\n        title=\"Negrita\"\r\n        style={styles.button(activeFormats.bold)}\r\n        onClick={() => onFormatText('bold')}\r\n      >\r\n        <strong>B</strong>\r\n      </button>\r\n      <button \r\n        type=\"button\"\r\n        title=\"Cursiva\"\r\n        style={styles.button(activeFormats.italic)}\r\n        onClick={() => onFormatText('italic')}\r\n      >\r\n        <em>I</em>\r\n      </button>\r\n      <button \r\n        type=\"button\"\r\n        title=\"Subrayado\"\r\n        style={styles.button(activeFormats.underline)}\r\n        onClick={() => onFormatText('underline')}\r\n      >\r\n        <u>U</u>\r\n      </button>\r\n      \r\n      <div style={styles.separator} />\r\n      \r\n      {/* Control de tamaño de fuente */}\r\n      <div style={styles.fontSizeControls}>\r\n        <button \r\n          type=\"button\"\r\n          title=\"Reducir tamaño de fuente\"\r\n          style={styles.button(false)}\r\n          onClick={() => changeFontSize(-1)}\r\n        >\r\n          <span style={{ fontSize: '12px' }}>A-</span>\r\n        </button>\r\n        \r\n        <span style={styles.fontSizeDisplay}>{getCurrentFontSize()}</span>\r\n        \r\n        <button \r\n          type=\"button\"\r\n          title=\"Aumentar tamaño de fuente\"\r\n          style={styles.button(false)}\r\n          onClick={() => changeFontSize(1)}\r\n        >\r\n          <span style={{ fontSize: '14px' }}>A+</span>\r\n        </button>\r\n      </div>\r\n      \r\n      <div style={styles.separator} />\r\n      \r\n      {/* Opciones de formato avanzadas */}\r\n      <button \r\n        type=\"button\"\r\n        title=\"Color de texto\"\r\n        style={styles.button(false)}\r\n        onClick={() => onFormatText('textColor')}\r\n      >\r\n        <span style={{ color: '#0b4444' }}>A</span>\r\n      </button>\r\n      <button \r\n        type=\"button\"\r\n        title=\"Insertar enlace\"\r\n        style={styles.button(activeFormats.link)}\r\n        onClick={() => onFormatText('link')}\r\n      >\r\n        🔗\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FloatingToolbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}